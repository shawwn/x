lgg.etypes[lgg.ENEMY_TYPE__OBSERVER] =
{
	armour:					.05,
	avoid_player_dist_max:	0,
	avoid_player_dist_min:	0,
	batch_max:				2,
	batch_min:				1,
	brake_deceleration:		0.00000090,
	brake_friction:			0.995,
	byebybe_height:			.15,
	byebybe_speed_x:		0,
	byebybe_speed_y:		-0.00001,
	collision_flags:		lgg.COLLISION_FLAG__ENEMIES | lgg.COLLISION_FLAG__PLAYER,
	danger:					8,
	depart_speed_x_max:		1,
	depart_speed_x_min:		1,
	depart_speed_y_max:		.2,
	depart_speed_y_min:		.2,
	description:			'', 
	desired_f_dist:			0,
	desired_t_dist:			0.05,
	engage_distance:		0.15,
	engage_distance_max:	0.2,
	engage_height_max:		0.95,
	engage_height_min:		0.3,
	engage_range:			0.35,
	follow_chance:			0,
	follow_targets: 		[],
	friction:				0.99,
	height:					.75,
	height_tol:				.45,
	id: 					lgg.ENEMY_TYPE__OBSERVER,
	joinup_chance:			0,
	linger_max:				0,
	linger_min:				0,
	player_collision: 		true,
	probability:			1,
	radius:					0.03,
	radius_max:				0.03,
	recharge_amount:		0.8,
	recharge_freq:			3000,
	shield: 				3.5,
	shield_recharge:		0,
	spawn_max:				5000,
	spawn_min:				3000,
	speed:					0.00000064,
	speed_max:				0.0005,
	speed_max_friction:		0.95,
	speed_nimble_x:			0,
	speed_nimble_y:			0,
	stage_max:				-1,
	stage_min:				3,
	title:					'Observer',
	turn_speed:				0,
	unfollow_chance:		0,
	weight:					1,

	attacks:
	[
		{
			angle:						360,
			angle_offset:				0,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						0.75,
			dist_max:					2.5,
			dist_min:					0.6,
			dumb_aim:					1,
			energy_cost:				0.25,
			freq:						10000,
			freq_var:					5000,
			friction:					.995,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0.0000015,
			homing_turn:				0.01,
			lifespan:					5000,
			probability:				0.002,			// not used often
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0010,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		},

		// all 8 directions
		{
			angle:						2.5,
			angle_offset:				0,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						.5,
			dist_max:					1.5,
			dist_min:					0.1,
			dumb_aim:					0,
			energy_cost:				0.025,
			freq:						300,
			freq_var:					50,
			friction:					1,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0,
			homing_turn:				0,
			lifespan:					20000,
			probability:				1,
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0005,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		},
		{
			angle:						2.5,
			angle_offset:				45,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						.5,
			dist_max:					1.5,
			dist_min:					0.05,
			dumb_aim:					0,
			energy_cost:				0.025,
			freq:						300,
			freq_var:					50,
			friction:					1,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0,
			homing_turn:				0,
			lifespan:					20000,
			probability:				1,
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0005,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		},
		{
			angle:						2.5,
			angle_offset:				90,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						.5,
			dist_max:					1.5,
			dist_min:					0.05,
			dumb_aim:					0,
			energy_cost:				0.025,
			freq:						300,
			freq_var:					50,
			friction:					1,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0,
			homing_turn:				0,
			lifespan:					20000,
			probability:				1,
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0005,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		},
		{
			angle:						2.5,
			angle_offset:				135,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						.5,
			dist_max:					1.5,
			dist_min:					0.05,
			dumb_aim:					0,
			energy_cost:				0.025,
			freq:						300,
			freq_var:					50,
			friction:					1,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0,
			homing_turn:				0,
			lifespan:					20000,
			probability:				1,
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0005,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		},
		{
			angle:						2.5,
			angle_offset:				180,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						.5,
			dist_max:					1.5,
			dist_min:					0.05,
			dumb_aim:					0,
			energy_cost:				0.025,
			freq:						300,
			freq_var:					50,
			friction:					1,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0,
			homing_turn:				0,
			lifespan:					20000,
			probability:				1,
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0005,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		},
		{
			angle:						2.5,
			angle_offset:				225,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						.5,
			dist_max:					1.5,
			dist_min:					0.05,
			dumb_aim:					0,
			energy_cost:				0.025,
			freq:						300,
			freq_var:					50,
			friction:					1,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0,
			homing_turn:				0,
			lifespan:					20000,
			probability:				1,
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0005,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		},
		{
			angle:						2.5,
			angle_offset:				270,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						.5,
			dist_max:					1.5,
			dist_min:					0.05,
			dumb_aim:					0,
			energy_cost:				0.025,
			freq:						300,
			freq_var:					50,
			friction:					1,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0,
			homing_turn:				0,
			lifespan:					20000,
			probability:				1,
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0005,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		},
		{
			angle:						2.5,
			angle_offset:				315,
			barrage_individual_aim:		false,
			barrage_shot_count_max:		1,
			barrage_shot_count_min:		1,
			barrage_shot_delay_max:		0,
			barrage_shot_delay_min:		0,
			damage:						.5,
			dist_max:					1.5,
			dist_min:					0.05,
			dumb_aim:					0,
			energy_cost:				0.025,
			freq:						300,
			freq_var:					50,
			friction:					1,
			homing_delay:				0,
			homing_time:				-1,
			homing_speed:				0,
			homing_turn:				0,
			lifespan:					20000,
			probability:				1,
			shot_count:					1,
			shot_spread:				0,
			speed:						0.0005,
			spread:						0,
			projectile_type:			lgg.PROJECTILE_TYPE__PLASMA,
			damage_type:				lgg.DAMAGE_TYPE__PLASMA,
			angle_accel:				0,
			angle_vel:					0,
			weight:						1,
			wobble_freq:				0,
			wobble_speed:				0,
		}
	],
	damage:			function(e, amount, damage_type) {
		return amount;
	},
	draw:			function(e) {
		var fade = lgg.now - e.last_hit < 750 ? (1 - (lgg.now - e.last_hit) / 750) : 0;
		var hfade = 1 - e.health;
		var r2 = e.radius*2;
		lgg.c.rectangle_textured.draw(lgg.CAM_PLAYER, lgg.tex_beholder, e.pos_x, e.pos_y, r2, r2, e.heading,
			-60-150*hfade, 0.75 + fade*.5 + hfade*.5, 1 + fade / 2, 1,
			-1, -1, -1, -1,
			-1, -1, -1, -1,
			-1, -1, -1, -1);
	},
	explode:			function(e) {
		var angle_step = 5 + µ.rand(1000);
		var hue = µ.rand(360);
		for (var i = 0; i < 50; i++)
		{
			var angle = angle_step * i + (angle_step * i * i) / 10000;
			lgg.projectiles.spawn(
				e.pos_x + µ.angle_to_x(angle) * e.radius/2 * (100 + i)/200,
				e.pos_y + µ.angle_to_y(angle) * e.radius/2 * (100 + i)/200,
				angle, true, lgg.PROJECTILE_TYPE__PLASMA, lgg.DAMAGE_TYPE__PLASMA, 0.5,
				3000 + µ.rand_int(1000), 0.000100 - 0.000002 * i, 0.99999,
				.5, 0.00000000025 + 0.0000000025 * i, -1, 0,
				0, 0, 0, 0);
		}
	},
	think_post:			function(e, time_delta) {
		// todo: redirect nearby enemy shots toward player
	},
};